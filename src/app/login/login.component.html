<ng-container *ngIf="(loginPageContent$ | async) as t">
  <div class="flex justify-content-center align-items-center min-h-screen">
    <div class="card w-full max-w-md">
      <h2 class="text-center">
        {{ isSignupMode ? t['mft_signup'] : t['mft_login'] }}
      </h2>

      <form class="p-fluid" (ngSubmit)="loginOrSignup()">
        <div class="field">
          <label for="email">{{ t['mft_email'] }}</label>
          <input id="email" type="email" pInputText [(ngModel)]="email" name="email" required />
        </div>

        <div class="field">
          <label for="password">{{ t['mft_password'] }}</label>
          <input id="password" type="password" pInputText [(ngModel)]="password" name="password" required />
        </div>

        <div *ngIf="error" class="text-red-500 text-sm mt-2">{{ error }}</div>

        <p-selectbutton [options]="langOptions" [(ngModel)]="selectedLangCode" optionLabel="label"
          (onChange)="getSelectedLangCode($event)" optionValue="value" size="large" name="language"
          required></p-selectbutton>

        <button pButton type="submit" [label]="isSignupMode ? t['mft_signup'] : t['mft_login']" class="mt-3 w-full"
          [disabled]="!email || !password"></button>
      </form>

      <a class="block text-center mt-3 text-sm cursor-pointer" (click)="toggleMode()">
        {{ isSignupMode ? t['mft_already_have_account'] : t['mft_dont_have_account'] }}
      </a>

      <a class="block text-center mt-2 text-xs cursor-pointer text-blue-500" (click)="showForgot = !showForgot">
        {{ t['mft_forgot_password'] }}
      </a>

      <div *ngIf="showForgot" class="mt-3">
        <input type="email" pInputText [placeholder]="t['mft_email']" [(ngModel)]="forgotEmail" class="mb-2 w-full"
          name="forgotEmail" />
        <button pButton [label]="t['mft_send_reset_link']" class="w-full" (click)="sendResetLink()"></button>
      </div>
    </div>
  </div>
</ng-container>